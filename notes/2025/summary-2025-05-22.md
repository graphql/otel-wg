# Meeting Summary for OTel WG

**NOTICE**: This summary was auto-generated by Zoom's "AI". AI-generated
content may be inaccurate or misleading. Always check for accuracy. If in
doubt, please consult the meeting recording at
https://youtube.com/@GraphQLFoundation/playlists

- Meeting start: 2025-05-22T17:00:23Z
- Meeting end: 2025-05-22T18:02:25Z
- Summary start: 2025-05-22T17:01:23Z
- Summary end: 2025-05-22T18:02:15Z

The team held their second meeting about OpenTelemetry work for GraphQL, focusing on establishing communication channels and documenting tracing and metrics attributes. They discussed tracing conventions for GraphQL operations and agreed to maintain separate spans for HTTP and GraphQL operations, while also addressing concerns about variable batching and operation naming. The group explored various span attributes and naming conventions, considering both internal and public GraphQL APIs, and concluded with plans to create issues for future discussions on meeting frequency and conventions.

## Next Steps

- Pascal to open a GitHub issue for voting on the next meeting time and frequency.
- Pascal to enable discussions on the GitHub repository.
- Trask to add the topic of using operation names in span names to the next week's semantic convention general meeting for guidance.
- All participants to continue the discussion on span naming conventions and cardinality concerns asynchronously on GitHub.
- All participants to review and refine the proposed attributes for GraphQL tracing, including operation name, operation type, and operation hash.
- All participants to consider the different use cases for public vs. internal GraphQL APIs when defining tracing conventions.

## Summary

### OpenTelemetry GraphQL Tracing Discussion

The group held their second meeting about OpenTelemetry work for GraphQL, with Pascal leading the discussion. They agreed to use GitHub for asynchronous communication, with Trask monitoring the repository for notifications. The main focus was on tracing and metrics attributes, which will be documented in a Google sheet shared by Pascal. The team discussed the need for consistent semantic conventions in the GraphQL ecosystem, with Eli highlighting challenges around observability of GraphQL systems. They agreed to start with GitHub discussions and issues before considering additional communication methods if needed.

### GraphQL Span Tracing Conventions

The team discussed tracing conventions for GraphQL operations, focusing on how to handle server operation spans and HTTP spans. They agreed to maintain separate spans for HTTP and GraphQL operations rather than combining them, as Eli and Bryn explained this approach avoids noise in observability tools and works well with most APMs. The team identified variable batching as an area requiring further discussion, particularly regarding whether it should create one operation span per batch or multiple spans per batch item. They decided to continue the discussion asynchronously through GitHub pull requests once the initial document is finalized.

### Operation Name Requirements and Constraints

The team discussed the attributes for operations, focusing on the requirement levels for operation names in spans and metrics. They agreed that operation names should be conditionally required for spans due to potential cardinality issues, while for metrics, it could be recommended or opt-in depending on the system's scale. Trask raised concerns about user-controlled operation names potentially leading to overflow in metric systems, similar to a previous CVE issue with HTTP method names. The team considered limiting operation names to a predefined list of common method names to address these concerns.

### GraphQL Span Attributes Discussion

The team discussed GraphQL span attributes, focusing on operation name, type, hash, and ID. They agreed that operation name can be empty but should be conditionally required, while operation type will be lowercase and required. The team debated hash representation, with Benjie suggesting a prefix format like "sha256:" to allow for future algorithm changes. Trask explained that operation ID would be conditionally required if document ID is provided, and Eli inquired about standard fields to differentiate between different types of work, which Trask confirmed has been discussed but no final decision was made.

### GraphQL Span Naming Challenges

The group discusses the challenges of naming spans in GraphQL tracing, particularly balancing usefulness with potential cardinality issues. They consider using operation names, which is common practice but susceptible to attacks in public APIs. The discussion touches on different approaches for internal vs. public GraphQL APIs. Trask suggests adding this topic to the next semantic convention meeting for further guidance. The group also debates the merits of fixed span names versus dynamic ones. They agree to create an issue to vote on changing the meeting frequency to bi-weekly and potentially adjusting the meeting time.
